parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"iBak":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MouseManager=void 0;var n=function(){function t(i,n,l){e(this,t),this.canvas=i,this.ctx=n,this.x=0,this.y=0,this.cellX=0,this.cellY=0,this.cellSize=l}return i(t,[{key:"gameMouseMoveHandler",value:function(e){this.canvas.addEventListener("mousemove",e)}},{key:"gameMouseClickHandler",value:function(e){this.canvas.addEventListener("click",e)}},{key:"normalizationCursorPosition",value:function(e){var t=this.canvas.getBoundingClientRect();this.x=e.clientX-t.left,this.y=e.clientY-t.top,this.cellX=~~(this.x/this.cellSize),this.cellY=~~(this.y/this.cellSize)}},{key:"drawMousePosition",value:function(){var e=this;this.gameMouseMoveHandler(function(t){return e.normalizationCursorPosition(t)}),this.ctx.fillStyle="rgba(255, 255, 255, 0.2)",this.ctx.fillRect(this.cellX*this.cellSize,this.cellY*this.cellSize,this.cellSize,this.cellSize)}},{key:"getMousePosPerTile",value:function(){return{x:this.cellX,y:this.cellY}}}]),t}();exports.MouseManager=n;
},{}],"YDGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizedTilePositions=void 0;var e=function(e,o){return e*o};exports.normalizedTilePositions=e;
},{}],"wKMD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkIfTileIsFree=i;var e=require("../../Units/NormalizedTilePositions");function i(i,o,r){for(var s=!0,n=0;n<o.length;n++){var l=o[n].x===(0,e.normalizedTilePositions)(i.x,r)&&o[n].y===(0,e.normalizedTilePositions)(i.y,r),t=o[n].x!==(0,e.normalizedTilePositions)(i.x,r)&&o[n].y!==(0,e.normalizedTilePositions)(i.y,r);if(l){s=!1;break}t&&(s=!0)}return s||console.warn("Tile is already taken!"),s}
},{"../../Units/NormalizedTilePositions":"YDGY"}],"VLg5":[function(require,module,exports) {
"use strict";function e(e,t){return{y:t,x:e,color:"#FF34859d",type:"fastFiringTurret",range:100,turret:!0,damage:40,attackSpeed:1e3,shootingAllowed:!0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFastFiringTurret=e;
},{}],"dFbC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.turretTypes=void 0;var e={power:"powerTurret",fast:"fastFiring"};exports.turretTypes=e;
},{}],"tb3u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPowerTurret=r;var e=require("../index");function r(r,t){return{y:t,x:r,color:"#FFf5edba",type:e.turretTypes.power,range:150,damage:100,attackSpeed:2e3,turret:!0,shootingAllowed:!0}}
},{"../index":"dFbC"}],"Ux3G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTurret=t;var r=require("../../Managers/TurretManager/TurretTypes/FastFiring/createFastFiringTurret"),e=require("../../Managers/TurretManager/TurretTypes/PowerTurret/createPowerTurret");function t(t,a,u){switch(t){case"fastFiringTurret":return(0,r.createFastFiringTurret)(a,u);case"powerTurret":return(0,e.createPowerTurret)(a,u)}}
},{"../../Managers/TurretManager/TurretTypes/FastFiring/createFastFiringTurret":"VLg5","../../Managers/TurretManager/TurretTypes/PowerTurret/createPowerTurret":"tb3u"}],"eXYS":[function(require,module,exports) {
"use strict";function e(e,t){return e+t/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.centerPointOfTile=e;
},{}],"V2ZJ":[function(require,module,exports) {
"use strict";function e(e,t,r,s){return parseInt(Math.sqrt(Math.pow(e-r,2)+Math.pow(t-s,2)))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FindDistanceBetweenVectors=e;
},{}],"y3X8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TurretsManager=void 0;var e=require("../../Units/NormalizedTilePositions"),t=require("../TilesCheckingManager/checkIfTileIsFree"),i=require("../../CreateElement/Turrets/createTurret"),r=require("../../Utils/Tiles/centerPointOfTile"),s=require("./FindDistanceBetweenVectors/FindDistanceBetweenVectors");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}var l=function(){function c(e,t,i){n(this,c),this.ctx=e,this.cellSize=t,this.turrets=[],this.turretPlacedSuccess=!0,this.mobsManager=i}return o(c,[{key:"placeTurret",value:function(r,s){var n=(0,e.normalizedTilePositions)(s.y,this.cellSize),c=(0,e.normalizedTilePositions)(s.x,this.cellSize);console.log(c,n),this.turretPlacedSuccess=(0,t.checkIfTileIsFree)(s,this.turrets,this.cellSize),(0===this.turrets.length||this.turretPlacedSuccess)&&this.turrets.push((0,i.createTurret)(r,c,n))}},{key:"renderTurrets",value:function(){var e=this;this.turrets.map(function(t){switch(t.type){case"fastFiringTurret":e._renderFastTurret(t);break;case"powerTurret":e._renderPowerTurret(t)}})}},{key:"turretShooting",value:function(){var e=this;this.turrets.map(function(t){e.mobsManager.getMobs().map(function(i,r){i.dinstanceFromturret=(0,s.FindDistanceBetweenVectors)(i.x,i.y,t.x,t.y),e.isMobInRange(t,i)&&t.shootingAllowed&&(setTimeout(function(){return t.shootingAllowed=!0},t.attackSpeed),t.shootingAllowed=!1,e._shootToMob(t,i,r),e._drawLaser(t,i))})})}},{key:"isTurretPlacedSuccess",value:function(){return this.turretPlacedSuccess}},{key:"getTurrets",value:function(){return this.turrets}},{key:"isMobInRange",value:function(e,t){return(0,s.FindDistanceBetweenVectors)(e.x,e.y,t.x,t.y)<=e.range}},{key:"_drawLaser",value:function(e,t){this.isMobInRange(e,t)&&(this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.strokeStyle="#FF0000",this.ctx.moveTo((0,r.centerPointOfTile)(e.x,this.cellSize),(0,r.centerPointOfTile)(e.y,this.cellSize)),this.ctx.lineTo((0,r.centerPointOfTile)(t.x,this.cellSize),(0,r.centerPointOfTile)(t.y,this.cellSize)),this.ctx.stroke())}},{key:"_shootToMob",value:function(e,t,i){t.hp-=10*e.damage,t.hp<0&&this.mobsManager.getMobs().slice(i,1)}},{key:"_renderFastTurret",value:function(e){this.ctx.beginPath(),this.ctx.fillStyle=e.color,this.ctx.arc((0,r.centerPointOfTile)(e.x,this.cellSize),(0,r.centerPointOfTile)(e.y,this.cellSize),this.cellSize/3,0,2*Math.PI),this.ctx.fill(),this._showTurretRange(e),this.ctx.stroke()}},{key:"_renderPowerTurret",value:function(e){this.ctx.beginPath(),this.ctx.fillStyle=e.color,this._showTurretRange(e),this.ctx.fillRect(e.x,e.y,this.cellSize,this.cellSize),this.ctx.stroke()}},{key:"_showTurretRange",value:function(e){this.ctx.beginPath(),this.ctx.strokeStyle="#fff",this.ctx.arc((0,r.centerPointOfTile)(e.x,this.cellSize),(0,r.centerPointOfTile)(e.y,this.cellSize),e.range,0,2*Math.PI),this.ctx.stroke()}}]),c}();exports.TurretsManager=l;
},{"../../Units/NormalizedTilePositions":"YDGY","../TilesCheckingManager/checkIfTileIsFree":"wKMD","../../CreateElement/Turrets/createTurret":"Ux3G","../../Utils/Tiles/centerPointOfTile":"eXYS","./FindDistanceBetweenVectors/FindDistanceBetweenVectors":"V2ZJ"}],"SSHX":[function(require,module,exports) {
"use strict";function t(t){return 0===t}function e(t){return 0===t}function r(t,e){return t===e}function n(t,e){return t===e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUpperWall=t,exports.isLeftWall=e,exports.isBottomWall=r,exports.isRightWall=n;
},{}],"mNhS":[function(require,module,exports) {
"use strict";function e(e,t){return{type:"wall",vector:[e,t],color:"#FF0000",passable:!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createWallTile=e;
},{}],"QYT7":[function(require,module,exports) {
"use strict";function e(e,r){return{type:"terrain",f:0,g:0,h:0,vector:[e,r],color:"#222",neighbors:[],addNeighbors:function(e,r,t,i,s,n,h){n>i&&"terrain"===e[t-1][i].type&&this.neighbors.push(e[t-1][i]),s>t&&"terrain"===e[t+1][i].type&&this.neighbors.push(e[t+1][i]),n>i&&"terrain"===e[t][i+1].type&&this.neighbors.push(e[t][i+1]),i>0&&"terrain"===e[t][i-1].type&&this.neighbors.push(e[t][i-1])}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTerrainTile=e;
},{}],"Kf8i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapManager=void 0;var e=require("../../CreateElement/MapElement/Walls/wallsUtils"),t=require("../../CreateElement/MapElement/Walls/createWallTile"),a=require("../../CreateElement/MapElement/createTerrainTile");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}var r=function(){function n(e,t,a,s,r,h){i(this,n),this.canvas=e,this.ctx=t,this.cellSize=r,this.cols=a,this.rows=s,this.x=0,this.y=0,this.gameMap=[],this.terrain=[],this.startSpawnPoint={},this.endSpawnPoint={},this.gameDebuggerManager=h}return s(n,[{key:"renderMap",value:function(){this.x=0,this.y=0;for(var e=0;e<=this.rows;e++){this.x=0,this._createAndAddRow(e),e>0&&(this.y+=this.cellSize);for(var t=0;t<=this.cols;t++){t>0&&(this.x+=this.cellSize),this._createAndAddWalls(e,t,this.x,this.y),this._createSpawnAndAddPoints(e,t,this.rows),this._createAndAddTerrain(e,t);var a=this.gameMap[e][t].vector[0],i=this.gameMap[e][t].vector[1];this.ctx.fillStyle=this.gameMap[e][t].color,this.ctx.fillRect(a,i,this.cellSize,this.cellSize),this.gameDebuggerManager.debugTileVectors(a,i)}}for(var n=0;n<this.gameMap.length;n++)for(var s=0;s<this.gameMap[n].length;s++)"terrain"===this.gameMap[n][s].type&&this.gameMap[n][s].addNeighbors(this.gameMap,this.cellSize,n,s,this.rows,this.cols,this.gameDebuggerManager)}},{key:"getGameMap",value:function(){return this.gameMap}},{key:"getEndSpawnPoint",value:function(){return this.endSpawnPoint}},{key:"getStartSpawnPoint",value:function(){return this.startSpawnPoint}},{key:"_createAndAddRow",value:function(e){this.gameMap[e]=[]}},{key:"_createAndAddWalls",value:function(a,i){((0,e.isUpperWall)(i)||(0,e.isLeftWall)(a)||(0,e.isRightWall)(a+1,this.cols)||(0,e.isBottomWall)(i+1,this.rows))&&(this.gameMap[a][i]=(0,t.createWallTile)(this.x,this.y))}},{key:"_createSpawnAndAddPoints",value:function(e,t){this._isEndSpawnPoint(e,t,this.rows)&&(this.gameMap[e][t]=(0,a.createTerrainTile)(this.x,this.y),this.endSpawnPoint=this.gameMap[e][t]),this._isStartSpawnPoint(e,t,this.rows)&&(this.gameMap[e][t]=(0,a.createTerrainTile)(this.x,this.y),this.startSpawnPoint=this.gameMap[e][t])}},{key:"_isEndSpawnPoint",value:function(e,t,a){return e===Math.round(a/2-1)&&t===a-1}},{key:"_isStartSpawnPoint",value:function(e,t,a){return e===Math.round(a/2-1)&&0===t}},{key:"_createAndAddTerrain",value:function(e,t){this.gameMap[e][t]||(this.gameMap[e][t]=(0,a.createTerrainTile)(this.x,this.y))}}]),n}();exports.MapManager=r;
},{"../../CreateElement/MapElement/Walls/wallsUtils":"SSHX","../../CreateElement/MapElement/Walls/createWallTile":"mNhS","../../CreateElement/MapElement/createTerrainTile":"QYT7"}],"IfQb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shopMenuHeader=void 0;var e=function(e){return'\n        <p class="ui-shop__element">Shop</p>\n        <p class="ui-shop__element">Money: '.concat(e," $</p>\n    ")};exports.shopMenuHeader=e;
},{}],"SFnz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shopTurretList=void 0;var e=function(){return'\n  <ul>\n    <li class="turretList ui-shop__element" value="5" id="powerTurret"> Power turret: 5$ </li>\n    <li class="turretList ui-shop__element" value="10" id="fastFiringTurret"> Fast firing: 10$ </li>\n  </ul>\n'};exports.shopTurretList=e;
},{}],"AhMF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShopManager=void 0;var e=require("./templates/shopMenu/shopMenuHeader"),t=require("./templates/shopTurretList/shopTurretList");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=function(){function r(){n(this,r),this.money=140,this.shopRoot=document.getElementById("ui-shop"),this.pickedTurret="powerTurret"}return o(r,[{key:"init",value:function(){this.renderPanel(),this.pickTurretType()}},{key:"getMoney",value:function(){return this.money}},{key:"setMoney",value:function(e){this.money=e}},{key:"addMoney",value:function(e){this.money+=e,console.log(this.money)}},{key:"getPickedTurret",value:function(){return this.pickedTurret}},{key:"pickTurretType",value:function(){var e=this;this._shopClickHandler(function(t){return e._setPickedTurret(t)})}},{key:"renderPanel",value:function(){this.shopRoot.innerHTML="\n      ".concat((0,e.shopMenuHeader)(this.money),"\n      ").concat((0,t.shopTurretList)(),"\n    ")}},{key:"_shopClickHandler",value:function(e){this.shopRoot.addEventListener("click",e)}},{key:"_setPickedTurret",value:function(e){this.pickedTurret=e.target.id}}]),r}();exports.ShopManager=i;
},{"./templates/shopMenu/shopMenuHeader":"IfQb","./templates/shopTurretList/shopTurretList":"SFnz"}],"nbyt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MobCreator=void 0;var e=require("../../Utils/Tiles/centerPointOfTile"),t=function(t,o,r,i,n,c,s,l,a,p,f){var u={id:Math.random(),ctx:t,cellSize:o,x:r,y:i,type:n,hp:c,color:s,size:l,speed:a,reward:p,score:f};return Object.assign(u,(u.x,{move:function(e){e.x+=a},showHp:function(r){var i=r.hp/(6*r.size),n=r.x-2*r.size,c=r.y-2*r.size;t.beginPath(),t.Style="#FF0000",t.rect((0,e.centerPointOfTile)(n,o),(0,e.centerPointOfTile)(c,o),i,2),t.stroke()},render:function(r){t.beginPath(),r.showHp(r),t.fillStyle=r.color,t.arc((0,e.centerPointOfTile)(r.x,o),(0,e.centerPointOfTile)(r.y,o),r.size,0,2*Math.PI),t.fill()}}),(u.type,{logOk:console.log("".concat(u.type.type.toUpperCase()," created successfully - instance."))}))};exports.MobCreator=t;
},{"../../Utils/Tiles/centerPointOfTile":"eXYS"}],"Co0m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MobsModels=void 0;var e={tank:{type:"tank",hp:3e3,color:"#fff",size:11,speed:.5,reward:25,score:10},fast:{type:"fast",hp:1e3,color:"#FF34859d",size:7,speed:1.2,reward:15,score:6}};exports.MobsModels=e;
},{}],"KkUv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MobsManager=void 0;var e=require("../../CreateElement/Mobs/MobCreator"),r=require("../../CreateElement/Mobs/Models/MobsModels"),t=require("../TilesCheckingManager/checkIfTileIsFree");function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,r,t){return r&&a(e.prototype,r),t&&a(e,t),e}var s=function(){function a(e,r,t,n,s,i){o(this,a),this.ctx=e,this.cellSize=t,this.mobs=[],this.mapManager=r,this.turretsManager={},this.lifeManager=n,this.shopManager=s,this.scoreManager=i}return n(a,[{key:"inject",value:function(e){this.turretsManager=e}},{key:"renderMob",value:function(t){var o=this,a=0;t.map(function(t){setTimeout(function(){o.mobs.push((0,e.MobCreator)(o.ctx,o.cellSize,o.mapManager.getStartSpawnPoint().vector[0],o.mapManager.getStartSpawnPoint().vector[1],r.MobsModels[t],r.MobsModels[t].hp,r.MobsModels[t].color,r.MobsModels[t].size,r.MobsModels[t].speed,r.MobsModels[t].reward,r.MobsModels[t].score))},1e3*Math.floor(5*Math.random()*a++))}),a=0}},{key:"waveMobsMove",value:function(){var e=this;this.mobs.map(function(r,o){e._checkMobHp(r,o),(0,t.checkIfTileIsFree)(r,e.turretsManager.getTurrets(),e.cellSize)||(r.x-=2),r.move(r),r.render(r),e._checkIfMobHitPlayer(r,o)})}},{key:"getMobs",value:function(){return this.mobs}},{key:"_checkIfMobHitPlayer",value:function(e,r){e.x>this.mapManager.getEndSpawnPoint().vector[0]+this.cellSize&&e.y===this.mapManager.getEndSpawnPoint().vector[1]&&(this.lifeManager.lifeHit(),this.lifeManager.renderLife(),this.mobs.splice(r,1))}},{key:"_checkMobHp",value:function(e,r){e.hp<0&&(this.shopManager.addMoney(e.reward),this.shopManager.renderPanel(),this.scoreManager.addScore(e.score),this.scoreManager.renderScore(),this.mobs.splice(r,1))}}]),a}();exports.MobsManager=s;
},{"../../CreateElement/Mobs/MobCreator":"nbyt","../../CreateElement/Mobs/Models/MobsModels":"Co0m","../TilesCheckingManager/checkIfTileIsFree":"wKMD"}],"olSx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameDebugger=void 0;var e=require("../Tiles/centerPointOfTile");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var l=function(){function i(e,n){t(this,i),this.ctx=e,this.cellSize=n,this.debugMode=!1}return n(i,[{key:"addText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.cellSize/4,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Arial";this.debugMode&&(this.ctx.beginPath(),this.ctx.font="".concat(t,"px ").concat(o),this.ctx.textAlign="center",this.ctx.fillStyle=i,this.ctx.fillText("".concat(e),n,l),this.ctx.stroke())}},{key:"fillTile",value:function(e,t){var i,n;this._isDebugMode()&&(e.vector?(i=e.vector[0],n=e.vector[1]):(i=e[0],n=e[1]),this.ctx.fillStyle=t,this.ctx.fillRect(i,n,this.cellSize,this.cellSize))}},{key:"fillMap",value:function(e,t){var i=this;this._isDebugMode()&&e.map(function(e){return i.fillTile(e,t)})}},{key:"debugTileVectors",value:function(t,i){this._isDebugMode()&&this.addText("[".concat(t," ").concat(i,"]"),this.cellSize/5,"#fff",(0,e.centerPointOfTile)(t,this.cellSize),(0,e.centerPointOfTile)(i,this.cellSize))}},{key:"_isDebugMode",value:function(){return this.debugMode}},{key:"toggleDebuggerMode",set:function(e){this.debugMode=e}}]),i}();exports.GameDebugger=l;
},{"../Tiles/centerPointOfTile":"eXYS"}],"OpUl":[function(require,module,exports) {
"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LifeManager=void 0;var t=function(){function i(){e(this,i),this.lifeUi=document.getElementById("ui-life"),this.life=20}return n(i,[{key:"checkIfGameOver",value:function(){return this.life<=0}},{key:"lifeHit",value:function(){this.life--}},{key:"renderLife",value:function(){this.lifeUi.innerHTML="<p>Life: ".concat(this.life,"</p>")}}]),i}();exports.LifeManager=t;
},{}],"iVe7":[function(require,module,exports) {
"use strict";function e(e){var t=["tank","fast","tank","fast","tank","fast"];e.renderMob(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createWave=e;
},{}],"ygRS":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=e.length-1;t>=0;t--)e[t]===r&&e.splice(t,1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeElementFromArrReverse=e;
},{}],"cu6m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.aStar=t;var e=require("../../Utils/RemoveElFromArrReverse"),r=require("../../Managers/TurretManager/FindDistanceBetweenVectors/FindDistanceBetweenVectors");function t(t,o,n,s,a){var c=[],i=[],v=0;c.push(t),i.push(o);for(var u=function(){for(var t=0;t<c.length;t++)c[v].f>c[t].f&&(v=t);var n=c[v];n===o&&console.log("Done"),(0,e.removeElementFromArrReverse)(c,n),i.push(n),n.neighbors.map(function(e){var t=e.vector[0],s=e.vector[1],v=o.vector[0],u=o.vector[1];if(a.fillTile(e.vector,"rgba(168, 199, 220, 0.25)"),!i.includes(e)){var l=n.g+1;c.includes(e)?l<e.g&&(e.g=l):(e.g=l,c.push(e)),e.h=(0,r.FindDistanceBetweenVectors)(t,s,v,u),e.f=e.g+e.h,e.cameFrom=n}})};c.length>0;)u()}
},{"../../Utils/RemoveElFromArrReverse":"ygRS","../../Managers/TurretManager/FindDistanceBetweenVectors/FindDistanceBetweenVectors":"V2ZJ"}],"W5j8":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScoreManager=void 0;var o=function(){function r(){e(this,r),this.score=0,this.scoreUi=document.getElementById("ui-score")}return n(r,[{key:"addScore",value:function(e){this.score+=e}},{key:"renderScore",value:function(){this.scoreUi.innerHTML="Score: ".concat(this.score)}}]),r}();exports.ScoreManager=o;
},{}],"H99C":[function(require,module,exports) {
"use strict";var e=require("./Managers/MouseManager/MouseManager"),r=require("./Managers/TurretManager/TurretManager"),a=require("./Managers/MapManager/MapManager"),n=require("./Managers/ShopManager/ShopManager"),g=require("./Managers/MobsManager/MobsManager"),t=require("./Utils/Debuggers/GameDebugger"),M=require("./Managers/LifeManager/LifeManager"),o=require("./Managers/WaveManager/WaveManager"),i=require("./PathFinding/aStar/aStar"),s=require("./Managers/ScoreManager/ScoreManager");window.onload=function(){var u=document.getElementById("canvas"),c=u.getContext("2d"),d=document.getElementById("debugMode"),w=30;c.canvas.width=25*w,c.canvas.height=25*w;var l=new s.ScoreManager,v=new t.GameDebugger(c,w),S=new e.MouseManager(u,c,w),h=new a.MapManager(u,c,25,25,w,v);h.renderMap();var m=new M.LifeManager,p=new n.ShopManager,q=new g.MobsManager(c,h,w,m,p,l),b=new r.TurretsManager(c,w,q);q.inject(b),(0,o.createWave)(q),m.renderLife(),p.init(),l.renderScore(),m.renderLife(),function e(){h.renderMap(),(0,i.aStar)(h.getStartSpawnPoint(),h.getEndSpawnPoint(),c,w,v),b.turretShooting(),S.drawMousePosition(),q.waveMobsMove(),b.renderTurrets(),m.checkIfGameOver()?alert("Game over"):requestAnimationFrame(e)}(),d.addEventListener("click",function(){v.toggleDebuggerMode=this.checked,console.warn("Debugger mode: ".concat(this.checked))}),S.gameMouseClickHandler(function(){p.money>0?(b.placeTurret(p.getPickedTurret(),S.getMousePosPerTile()),b.isTurretPlacedSuccess()&&(p.setMoney(p.getMoney()-5),p.renderPanel())):console.warn("no Money")})};
},{"./Managers/MouseManager/MouseManager":"iBak","./Managers/TurretManager/TurretManager":"y3X8","./Managers/MapManager/MapManager":"Kf8i","./Managers/ShopManager/ShopManager":"AhMF","./Managers/MobsManager/MobsManager":"KkUv","./Utils/Debuggers/GameDebugger":"olSx","./Managers/LifeManager/LifeManager":"OpUl","./Managers/WaveManager/WaveManager":"iVe7","./PathFinding/aStar/aStar":"cu6m","./Managers/ScoreManager/ScoreManager":"W5j8"}]},{},["H99C"], null)
//# sourceMappingURL=src.97b4f622.js.map